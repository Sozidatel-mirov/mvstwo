@model mvstwo.Model.OkeiSiteContext; 
@{
    var users = Model.Users.ToList();
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Цифровой образовательный контент «Оренбургский колледж экономики и информатики»</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<body>
    <div class="main">
        <header class="header">
            <div class="container">
                <div class="inner2">
                    <nav>
                        <img src="/image/logo.png" width="80" height="46" alt="">
                    </nav>
                    <h1>Цифровой образовательный контент</h1>
                    <div class="login">
                        <a class="name-box_item_user" data-id="78325">@ViewBag.rar </a>
                    </div>
                    <div class="menu">
                        <span style="font: size 40px;cursor:pointer; color: #2e57ed;margin-left: auto;"
                            onclick="openNav()">☰</span>
                        <div id="mySidenav" class="sidenav">
                            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
                            <a asp-controller="CokMain" asp-action="Main">Главная</a>
                            @if(Convert.ToString(ViewBag.role) == "Преподаватель")
                            {
                            <a asp-controller="CokMain" asp-action="ProfileTeacher">Личный кабинет</a>
                            }
                            else@*  if(Convert.ToString(ViewBag.role) == "Администратор") *@
                            {
                            }
                            @* else
                            {
                            <a asp-controller="CokMain" asp-action="ProfileStudent">@Convert.ToString(ViewBag.role)</a>
                            } *@
                            <a asp-controller="CokMain" asp-action="LogOut">Выйти</a>
                        </div>
                    </div>
                    <script type="text/javascript" src="/app.js">   </script>
                </div>
                <!-- Модальное окно -->
                <div id="openModalr" class="modalr">
                    <!-- Кнопка для закрытия модального окна -->
                    <span onclick="document.getElementById('openModalr').style.display='none'" class="close"
                        title="Close Modal">&times;</span>
                    <!-- Содержимое модального окна -->
                    <form class="modalr-content">
                        <div class="imgcontainer">
                            <img src="../image/logo.png" alt="Logo" class="logo">
                        </div>
                        <div class="conta">
                            <div class="contname">
                                <!-- Поле ввода логина -->
                                <label for="uname"><b>Логин</b></label>
                                <input type="text" placeholder="Введите Логин" name="uname" required>
                            </div>
                            <!-- Поле ввода пароля -->
                            <div class="password">
                                <label for="psw"><b>Пароль</b></label>
                                <input type="password" id="password-input" placeholder="Введите пароль" required
                                    name="password">
                                <a href="#" class="password-control"
                                    onclick="return show_hide_password(this);"></a>
                            </div>
                            <!-- Кнопка для отправки формы -->
                            <button type="submit">Вход</button>
                            <!-- Флажок  -->
                            <label>
                                <input type="checkbox" checked="checked" name="remember"> Запомнить пароль
                            </label>
                            <div class="contain" style="background-color:#f1f1f1">
                                <!-- Ссылка на восстановление пароля -->
                                <span class="psw">Восстановить <a href="#">пароль?</a></span>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </header>
        @if(Convert.ToString(ViewBag.role) == "Администратор")
        {
            <a asp-controller="CokMain" asp-action="AddUser">
            <button class="button" type="submit" >
                Добавить пользователя
            </button>
            </a>
            <br /><br />
            <label>Список пользователей</label>
            <br /><br />
            <table>
            <thead>
                <tr>
                    <th>Имя пользователя</th>
                    <th>Фамилия пользователя</th>
                    <th>роль</th>
                    <th>Группа</th>
                    <th>Логин</th>
                    <th>Пароль</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in users)
                {
                    <tr>
                        <td>@Model.Users.FirstOrDefault(q=>q.Id == item.Id).Firstname</td>
                        <td>
                            @Model.Users.FirstOrDefault(q=>q.Id == item.Id).Surename
                        </td>
                        <td>@Model.Roles.FirstOrDefault(q=>q.Id == Model.Users.FirstOrDefault(q=>q.Id == item.Id).RoleUser).Name</td>
                        <td>@Model.Groups.FirstOrDefault(q=>q.Id == Model.Users.FirstOrDefault(q=>q.Id == item.Id).Usergroup).Name</td>
                        <td>@Model.Users.FirstOrDefault(q=>q.Id == item.Id).Login</td>
                        <td>@Model.Users.FirstOrDefault(q=>q.Id == item.Id).Password</td>
                    </tr>
                }
            </tbody>
        </table>
        }
        else
        { 
            <div style="display: flex; flex-direction: column;">
            @foreach(mvstwo.Model.Cok cok in Model.Coks)
            {
                if(ViewBag.ror == "4пк2")
                {
                    @* if(cok.Id > 14)
                    {
                        continue;
                    } *@
                    <form asp-controller="Cokmain" asp-action="Cok" method="post">
                        <div>
                            <div class="content1">
                                <div class="course_flex">
                                    <div class="container_nav">
                                        <div class="mycourses_item">
                                            <div class="catalogue_main_left_s ru">
                                                <div class="catalogue_main">
                                                    <div class="catalogue_main_img">
                                                        <img src="..\image\icon\top50.png">
                                                        <input type="number" name="IdCok" value="@cok.Id" readonly hidden>
                                                    </div>
                                                </div>
                                                <ul>
                                                    <li><span></span></li>
                                                    <li>Преподаватель: <span></span></li>
                                                </ul>
                                            </div>
                                            <div class="mycourses_main">
                                                <div class="mycourses_title">Тема: @cok.Theme</div>
                                                <div class="mycourses_kval">
                                                    Компетенции:
                                                    <i style="font-style: italic;">@cok.Mdk</i>
                                                </div>
                                                <div class="flex_row" id="buttons_list_36762">
                                                    <button class="button"
                                                            type="submit">
                                                        Учебные
                                                        материалы
                                                    </button>
                                                </div>
                                                <div class="all_pr white pr" style="display:block;height:24px">
                                                    <div class="pr green" style="display:block;width:0%"></div>
                                                </div>
                                            </div>
                                        </div>


                                        <div id="modalTeachers" class="modal" style="display: none">
                                            <div class="course_title" style="font-size: 20px; color: #2e42c5; font-weight: bold;"></div>
                                            <div style="font-size: 16px; color: #2e42c5; margin: 10px 0px;">Преподаватели:</div>
                                            <div id="modal-body" style="font-size: 16px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                }
                else
                {
                    if (ViewBag.ror == "1са3" || ViewBag.ror == "1са1")
                    {
                        if (cok.Id > 14)
                        {
                            continue;
                        }
                        <form asp-controller="Cokmain" asp-action="Cok" method="post">
                            <div>
                                <div class="content1">
                                    <div class="course_flex">
                                        <div class="container_nav">
                                            <div class="mycourses_item">
                                                <div class="catalogue_main_left_s ru">
                                                    <div class="catalogue_main">
                                                        <div class="catalogue_main_img">
                                                            <img src="..\image\icon\top50.png">
                                                            <input type="number" name="IdCok" value="@cok.Id" readonly hidden>
                                                        </div>
                                                    </div>
                                                    <ul>
                                                        <li><span></span></li>
                                                        <li>Преподаватель: <span></span></li>
                                                    </ul>
                                                </div>
                                                <div class="mycourses_main">
                                                    <div class="mycourses_title">Тема: @cok.Theme</div>
                                                    <div class="mycourses_kval">
                                                        Компетенции:
                                                        <i style="font-style: italic;">@cok.Mdk</i>
                                                    </div>
                                                    <div class="flex_row" id="buttons_list_36762">
                                                        <button class="button"
                                                                type="submit">
                                                            Учебные
                                                            материалы
                                                        </button>
                                                    </div>
                                                    <div class="all_pr white pr" style="display:block;height:24px">
                                                        <div class="pr green" style="display:block;width:0%"></div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div id="modalTeachers" class="modal" style="display: none">
                                                <div class="course_title" style="font-size: 20px; color: #2e42c5; font-weight: bold;"></div>
                                                <div style="font-size: 16px; color: #2e42c5; margin: 10px 0px;">Преподаватели:</div>
                                                <div id="modal-body" style="font-size: 16px;"></div>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    }
                }
                
            }
        
        </div>
       
    
     } 

    <footer class="footer">
        <div class="pagination_loader" style="position:fixed; bottom:65px; right:10px">
        </div>
        <div id="up">&#10148;</div>
    </footer>
    <div class="preloader"><img src="/image\ob\ajax-loader.gif"></div>
    <script>
        var upElem = document.getElementById('up');
        var pageYLabel = 0;
        var timeDuration;

        upElem.onclick = function () {
            var pageY = window.pageYOffset || document.documentElement.scrollTop;
            switch (this.className) {
                case 'up':
                    pageYLabel = pageY;
                    smoothScrolling();
                    this.className = '';
                    break;

                case '':
                    window.scrollTo(0, pageYLabel);
                    this.className = 'up';
            }
        };

        window.onscroll = function () {
            var pageY = window.pageYOffset || document.documentElement.scrollTop;
            var innerHeight = document.documentElement.clientHeight;

            switch (upElem.className) {
                case '':
                    rowLength = $('.test_row').length;
                    if (rowLength > $('.student_elem.active').length) {
                        rowLength = $('.student_elem.active').length;
                    }
                    if (pageY > innerHeight) {
                        upElem.className = 'up';
                        if ($('.test_row').length != 0) {
                            $('.pagination_loader').html(rowLength + ' из ' + $('.student_elem.active').length)
                            $('.pagination_loader').show();
                        }
                    }
                    break;

                case 'up':
                    if (pageY < innerHeight) {
                        upElem.className = '';
                        $('.pagination_loader').hide();
                    }
                    break;
            }
        };

    </script>
</body>

</html>
